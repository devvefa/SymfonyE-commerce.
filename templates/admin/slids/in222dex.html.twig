

/**
* @Route("/{id}/imgdate", name="admin_slid_imgdate", methods={"POST"})
*/
public function imgdate(Request $request,$id, slid $slid): Response
{
$form = $this->createForm(slidType::class, $slid);
$form->handleRequest($request);

$file = $request->files->get('slidname');
$fileName = $this->generateUniqueFileName().'.'.$file->guessExtension();

try {
$file->move(
$this->getParameter('images_directory'),
$fileName
);
} catch (FileException $e) {

}

$slid->setImage($fileName);

$this->getDoctrine()->getManager()->flush();
return $this->redirectToRoute('admin_slid_iedit', [
'id' => $slid->getId(),]);
}





/**
* @return string
*/
private function generateUniqueFileName()
{
// md5() reduces the similarity of the file names generated by
// uniqid(), which is based on timestamps
return md5(uniqid());
}